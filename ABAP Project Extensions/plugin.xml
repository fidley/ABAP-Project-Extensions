<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
<extension point="org.eclipse.ui.startup">
  <startup class="com.abapblog.adt.extension.Startup"/>
</extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            name="ABAP"
            id="com.abapblog.adt.Passwords">
      </category>
      <view
            name="Passwords"
            icon="icons/passwords.png"
            category="com.abapblog.adt.Passwords"
            class="com.abapblog.adt.extension.passwords.view.PasswordView"
            id="com.abapblog.adt.extension.passwords.Passwords">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaPerspective">
         <view
               ratio="0.5"
               relative="org.eclipse.ui.views.ProblemView"
               relationship="right"
               id="com.abapblog.adt.extension.passwords.Preferences">
         </view>
      </perspectiveExtension>
   </extension>
  <extension
         point="org.eclipse.ui.menus">
   <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?after=additions">
             <menu label="ABAP Project"
             	icon="platform:/plugin/com.sap.adt.tools.core.ui/icons/obj/abap_application.png">
             	         <command
               commandId="com.abapblog.adt.extension.commands.LogWithSecureStorage"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
         <command
               commandId="com.abapblog.adt.extension.commands.LogToAllSAPSystems"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeLogonLanguage"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeUser"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeClient"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeDebugUserToLogonUser"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeDebugUserSpecificUser"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <or>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.corenature">
                            </test>
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                            </or>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
         </menu>
        </menuContribution>
   <menuContribution
         allPopups="false"
         locationURI="toolbar:org.eclipse.ui.trim.status">
      <toolbar
            id="com.abapblog.adt.extension.toolbar.runSAPTcode">
         <command
               commandId="com.abapblog.adt.extension.commands.RunSAPTcodeID"
               disabledIcon="platform:/plugin/com.sap.adt.tools.classrun.ui/icons/etool/runclass.png"
               icon="platform:/plugin/com.sap.adt.tools.classrun.ui/icons/etool/runclass.png"
               style="push">
         </command>
         <control
               class="com.abapblog.adt.extension.toolbar.gui.TransactionInputControl">
         </control>
      </toolbar>
   </menuContribution>
   <menuContribution
         allPopups="false"
         locationURI="menu:com.abapblog.adt.extension.passwords.Passwords">
      <command
            commandId="com.abapblog.adt.extension.passwords.openGithub"
            icon="icons/github.png"
            label="Feedback, Bugs &amp; Enhancements"
            style="push">
      </command>
      <command
            commandId="com.abapblog.adt.extension.passwords.buyABeer"
            icon="icons/beer.png"
            label="Buy Me a Beer"
            style="push">
      </command>
      <command
            commandId="com.abapblog.adt.extension.commands.openPreferences"
            icon="icons/preferences.png"
            label="Preferences"
            style="push">
      </command>
   </menuContribution>
         </extension>
      <extension
            point="org.eclipse.ui.commands">
         <command
               defaultHandler="com.abapblog.adt.extension.commands.ChangeLogonLanguageHandler"
               id="com.abapblog.adt.extension.commands.ChangeLogonLanguage"
               name="Change Logon Language">
         </command>
         <command
               defaultHandler="com.abapblog.adt.extension.commands.ChangeUserHandler"
               id="com.abapblog.adt.extension.commands.ChangeUser"
               name="Change Logon User">
         </command>
         <command
               defaultHandler="com.abapblog.adt.extension.commands.ChangeClientHandler"
               id="com.abapblog.adt.extension.commands.ChangeClient"
               name="Change Logon Client">
         </command>
            <command id="com.abapblog.adt.extension.commands.LogToAllSAPSystems"
                     name="Logon to All SAP Systems"
                     defaultHandler="com.abapblog.adt.extension.commands.LogToAllSAPSystemsHandler"
                     >
                     </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.LogWithSecureStorage"
                  id="com.abapblog.adt.extension.commands.LogWithSecureStorage"
                  name="Logon with Secure Storage">
            </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.ChangeDebugUserToLogonUserHandler"
                  id="com.abapblog.adt.extension.commands.ChangeDebugUserToLogonUser"
                  name="Set breakpoint user to logon user">
            </command>
            <command
                  categoryId="org.eclipse.debug.ui.category.run"
                  id="com.abapblog.adt.extension.commands.RunSAPTcodeID"
                  name="Run SAP T-Code">
            </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.ChangeDebugUserSpecificUserHandler"
                  id="com.abapblog.adt.extension.commands.ChangeDebugUserSpecificUser"
                  name="Select user for breakpoints">
            </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.OpenGithub"
                  id="com.abapblog.adt.extension.passwords.openGithub"
                  name="Feedback, Bugs &amp; Enhancements">
            </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.BuyMeABeer"
                  id="com.abapblog.adt.extension.passwords.buyABeer"
                  name="Buy Me a Beer">
            </command>
            <command
                  defaultHandler="com.abapblog.adt.extension.commands.OpenPreferences"
                  id="com.abapblog.adt.extension.commands.openPreferences"
                  name="Open Preferences">
            </command>
      </extension>
<extension
         point="org.eclipse.ui.preferencePages">
               <page
               		 category="com.sap.adt.tools.core.ui.preferencePages.ABAP"
                     class="com.abapblog.adt.extension.preferences.PreferencesDialog"
                     id="com.abapblog.adt.extension.preferences.PreferencesDialog"
                     name="Automatic Logon">
               </page>
               <page
                     category="org.eclipse.wst.sse.ui.preferences.editor"
                     class="com.abapblog.adt.extension.preferences.AbapTasks"
                     id="com.abapblog.adt.extension.preferences.abaptasks"
                     name="ABAP Task Tags">
               </page>
</extension>
            <extension
                  point="org.eclipse.core.runtime.preferences">
               <initializer
                     class="com.abapblog.adt.extension.preferences.PreferenceInitializer">
               </initializer>
</extension>
  <extension
       point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            appearsBefore="com.sap.adt.semanticfs.packageContent"
            contentProvider="com.abapblog.adt.extension.passwords.projectExplorer.ContentProvider"
            icon="icons/obj/package_obj.png"
            id="com.abapblog.adt.extensions.NavigatorContent"
            labelProvider="com.abapblog.adt.extension.passwords.projectExplorer.LabelProvider"
            name="%navigatorContent.packages"
            activeByDefault="true"
            priority="highest">
 		    <triggerPoints>
            <or>
               <instanceof
                     value="com.sap.adt.projectexplorer.ui.internal.node.AbapRepositoryPackageNode">
               </instanceof>
               <instanceof
                     value="com.sap.adt.projectexplorer.ui.internal.node.AbapSystemLibraryNode">
               </instanceof>
               <and>
                  <instanceof
                        value="org.eclipse.core.resources.IProject">
                  </instanceof>
               </and>
            </or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="com.sap.adt.projectexplorer.ui.node.IAbapRepositoryBaseNode">
               </instanceof>
               <instanceof
                     value="com.sap.adt.projectexplorer.ui.internal.node.AbapRepositoryPackageNode">
               </instanceof>
               <instanceof
                     value="com.sap.adt.projectexplorer.ui.internal.node.AbapFavoritePackagesNode">
               </instanceof>
            </or>
         </possibleChildren>
	   </navigatorContent>
 </extension>

  <extension
         id="com.abapblog.adt.extensions.passwords.ProjectExplorer"
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension
                  isRoot="false"
                  pattern="com.abapblog.adt.extensions.NavigatorContent">
            </contentExtension>
         </includes>
      </viewerContentBinding>
   </extension>
  <extension
        point="org.eclipse.ui.bindings">
     <key
           commandId="com.abapblog.adt.extension.commands.RunSAPTcodeID"
           contextId="org.eclipse.ui.contexts.window"
           schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
           sequence="M2+F8">
     </key>
  </extension>
  <extension
        point="org.eclipse.ui.handlers">
     <handler
           class="com.abapblog.adt.extension.commands.RunSAPTcode"
           commandId="com.abapblog.adt.extension.commands.RunSAPTcodeID">
     </handler>
  </extension>
   <extension
         point="com.sap.adt.tools.abapsource.ui.processAfterSourcePageLoaded">
      <class
            name="com.abapblog.adt.extension.markers.AbapPageLoadListener">
      </class>
   </extension>
   <extension
   point="org.eclipse.core.resources.markers"

         id="com.abapblog.adt.extension.markers.task"
         name="ADT Task">
<persistent value="false"/>
      <super type="org.eclipse.core.resources.taskmarker"/>
      <attribute name="owner"/>
</extension>
   <extension
         point="org.eclipse.ui.genericeditor.foldingReconcilers">
      <foldingReconciler
            class="reconciler.Reconciler1"
            contentType="ABAP Project Extensions.foldingReconciler1">
      </foldingReconciler>
   </extension>

</plugin>

